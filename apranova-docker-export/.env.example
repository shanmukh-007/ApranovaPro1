# ========================================
# ApraNova Project Configuration
# ========================================

# Project Settings
PROJECT_NAME=ApraNova
COMPOSE_PROJECT_NAME=apranova

# ========================================
# Django Backend Settings
# ========================================

# Django Secret Key (CHANGE THIS IN PRODUCTION!)
SECRET_KEY=s57XlrS02A@Obj+k3RBGxQ&CMy!^HeYdWFwPVq*z6tf9cn?uKv

# Debug Mode (False for production)
DEBUG=True

# Allowed Hosts (comma-separated)
ALLOWED_HOSTS=localhost,127.0.0.1,backend,yourdomain.com

# ========================================
# Frontend Configuration (Next.js)
# ========================================

# API URL for client-side requests (browser-side)
# For Docker: use http://localhost:8000 so browser can access backend
# For production: use your actual domain
NEXT_PUBLIC_API_URL=http://localhost:8000

# ========================================
# Database Configuration (PostgreSQL)
# ========================================

POSTGRES_DB=apranova_db
POSTGRES_USER=apranova_user
POSTGRES_PASSWORD=EnKUTZfsVXrJt2IM6kmCayB0

# Database URL (auto-constructed from above)
DATABASE_URL=postgresql://apranova_user:EnKUTZfsVXrJt2IM6kmCayB0@db:5432/apranova_db

# ========================================
# Redis Configuration
# ========================================

REDIS_PASSWORD=ZAnlF1Rem7xT59g8ioOUkv6I
REDIS_URL=redis://:ZAnlF1Rem7xT59g8ioOUkv6I@redis:6379/0

# ========================================
# OAuth Authentication
# ========================================

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
GITHUB_CLIENT_ID=your-github-client-id
GITHUB_CLIENT_SECRET=your-github-client-secret

# ========================================
# Payment Gateway (Stripe)
# ========================================

STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ========================================
# Email Configuration
# ========================================

# For development: use console backend (emails print to logs)
EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=noreply@apranova.com
EMAIL_HOST_PASSWORD=

# Default From Email
DEFAULT_FROM_EMAIL=noreply@apranova.com
SERVER_EMAIL=admin@apranova.com

# ========================================
# Frontend Configuration
# ========================================

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000

# API URL (for frontend to connect)
REACT_APP_API_URL=http://localhost:8000/api
REACT_APP_BACKEND_URL=http://localhost:8000

# ========================================
# Domain & SSL (Production)
# ========================================

# Domain name
VIRTUAL_HOST=yourdomain.com
LETSENCRYPT_HOST=yourdomain.com
LETSENCRYPT_EMAIL=admin@yourdomain.com

# ========================================
# CORS Settings
# ========================================

# Allowed Origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:80,http://localhost:8000

# Allow Credentials
CORS_ALLOW_CREDENTIALS=True

# ========================================
# Gunicorn Settings (Production)
# ========================================

GUNICORN_WORKERS=4
GUNICORN_THREADS=2
GUNICORN_TIMEOUT=60

# ========================================
# Security Settings (Production)
# ========================================

# SSL/HTTPS
SECURE_SSL_REDIRECT=False
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# HSTS (HTTP Strict Transport Security)
SECURE_HSTS_SECONDS=0
SECURE_HSTS_INCLUDE_SUBDOMAINS=False
SECURE_HSTS_PRELOAD=False

# ========================================
# Logging
# ========================================

LOG_LEVEL=INFO

# ========================================
# File Upload Settings
# ========================================

# Max upload size in MB
MAX_UPLOAD_SIZE=10

# ========================================
# Session Settings
# ========================================

SESSION_COOKIE_AGE=1209600
SESSION_COOKIE_NAME=apranova_sessionid

# ========================================
# Timezone & Language
# ========================================

TIME_ZONE=UTC
LANGUAGE_CODE=en-us

# ========================================
# Development Settings
# ========================================

# Set to True for development
DEV_MODE=False

# ========================================
# Workspace Configuration
# ========================================

# Base path for workspace storage (inside backend container)
WORKSPACE_BASE_PATH=/app/workspaces

# Docker socket path (for Docker-in-Docker)
DOCKER_SOCKET=/var/run/docker.sock

# Code-Server Authentication
# Authentication is DISABLED for student workspaces
# Students can access their VS Code workspace directly without any password
# This is configured with --auth none flag in workspace provisioning

